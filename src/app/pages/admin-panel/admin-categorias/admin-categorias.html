<main>
  <h1>Administrador de Categorías</h1>
  @if(adminCategories.categories().length === 0){
  <p class="no-categories-message">No hay categorías creadas en este momento.</p>
  } @else {
  <ul class="categories-list">
    <li class="editable-category">
      <input
        [(ngModel)]="newCategoryName"
        placeholder="Añade una nueva categoría"
        (keydown.enter)="addCategory(newCategoryName); reset()"
        (keydown.escape)="reset()"
      />
    </li>
    @for(category of adminCategories.categories(); track category._id) {
    <li class="editable-category">
      @if (editingCategoryId === category._id) {
      <input
        #input
        [(ngModel)]="editingCategoryName"
        (keydown.enter)="save(category._id, input.value)"
        (keydown.escape)="cancel()"
      />
      } @else {
      <p>{{ category.category }}</p>
      }
      <figure class="category-icons">
        <app-icon-button [path]="pencilPath" (click)="editCategory(category)"></app-icon-button>
        <app-icon-button [path]="binPath" (click)="deleteCategory(category._id)"></app-icon-button>
      </figure>
    </li>
    }
  </ul>
  }
</main>
