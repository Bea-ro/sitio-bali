<main class="centered-main">
  @if(userForm){
  <form class="admin-form" [formGroup]="userForm" (submit)="onSumbit()">
    <div>
      <label for="name">Nombre:</label>
      <input
        class="form-field"
        type="text"
        id="name"
        formControlName="name"
        placeholder="Nombre usuario"
      />
      @if(userForm.get('name')?.invalid && userForm.get('name')?.touched) {
      <p class="error-message">Este campo es obligatorio.</p>
      }
    </div>

    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" formControlName="email" />
      @if(userForm.get('email')?.errors?.['required'] && userForm.get('email')?.touched){
      <p class="error-message">Este campo es obligatorio.</p>
      } @if(userForm.get('email')?.errors?.['email']){
      <p class="error-message">Por favor, introduce un email válido.</p>
      }
    </div>

    <div>
      <label for="password">Contraseña:</label>
      <input type="password" id="password" formControlName="password" />
      @if(userForm.get('password')?.errors?.['password']){
      <p class="error-message">Por favor, introduce una contraseña válida</p>
      }
    </div>

    <div>
      <label for="repeatPassword">Repetir contraseña:</label>
      <input type="password" id="repeatPassword" formControlName="repeatPassword" />
    </div>
    @if(userForm.get('repeatPassword')?.invalid && userForm.get('repeatPassword')?.touched){
    @if(userForm.get('repeatPassword')?.errors?.['required']){
    <p>Este campo es obligatorio.</p>
    } @else if (userForm.get('repeatPassword')?.errors?.['minlength']) {
    <p>La contraseña deben tener 6 caracteres como mínimo.</p>
    } @else if (userForm.get('repeatPassword')?.errors?.['differentPasswords']){
    <p>Las contraseñas deben coincidir.</p>
    } }

    <button class="button" type="submit" [disabled]="userForm.invalid">Acceder</button>
    @if(adminLoginMessage){
    <p class="submitted-message">{{ adminLoginMessage }}</p>
    }
  </form>
  }
</main>
