<main class="centered-main">
  @if (validToken) {
  <form class="activation-form" [formGroup]="passwordForm" (submit)="onSumbit()">
    <div>
      <label for="password">Contraseña:</label>
      <input type="password" id="password" formControlName="password" />
      @if(passwordForm.get('password')?.errors?.['password']){
      <p class="error-message">Por favor, introduce una contraseña válida</p>
      }
    </div>

    <div>
      <label for="repeatPassword">Repetir contraseña:</label>
      <input type="password" id="repeatPassword" formControlName="repeatPassword" />
    </div>
    @if(passwordForm.get('repeatPassword')?.invalid && passwordForm.get('repeatPassword')?.touched){
    @if(passwordForm.get('repeatPassword')?.errors?.['required']){
    <p>Este campo es obligatorio.</p>
    } @else if (passwordForm.get('repeatPassword')?.errors?.['minlength']) {
    <p>La contraseña debe tener 6 caracteres como mínimo.</p>
    } @else if (passwordForm.get('repeatPassword')?.errors?.['differentPasswords']){
    <p>Las contraseñas deben coincidir.</p>
    } }
    <button class="button" type="submit" [disabled]="passwordForm.invalid">Activar</button>
  </form>
  } @else {
  <p>El enlace ha caducado.</p>
  <button>Reenviar email</button>
  }
</main>
